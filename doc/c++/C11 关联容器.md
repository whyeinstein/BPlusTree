# C11 关联容器

## 11.1 关联容器简介

**关联容器**（Associative containers）支持通过键来高效地查找和读取元素。 两个基本的关联容器类型是map set。

**map** 的元素以键－值（key-value）对的形式组织：键用作元素在 map 中的索引，而值则表示所存储和读取的数据。

**set** 仅包含一个键，并有效地支持关于某个键是否存在的查询。

![68](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192205584.png)

## 11.2 关联容器概述

在使用关联容器时，它的键不但有一个类型，而且还有一个相关的比较函数。默认情况下，标准库使用键类型定义的 < 操作符来实现键（key type）的比较。

所用的比较函数必须在键类型上定义**严格弱排序**

**pair类型**

一个pair保存两个数据类型，类似容器。创建pair时，我们需要提供两个类型名，用于生成特定类型的模板

**pair的一些操作**

![69](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192206290.png)



## 11.3 关联容器操作

**关联容器迭代器（遍历）**

![70](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192209255.png)

![71](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192247922.png)

**插入操作**

![72](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192209441.png)

**删除元素**

![73](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192210085.png)

**map下标操作**

![74](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192210938.png)

**访问元素**

![75](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192210231.png)

-  lower_bound和upper_bound不适用于无序容器
- 下标和at操作只适用于非const的map和unordered_map

## 11.4 无序容器

新标准定义的4个无序关联容器使用一个哈希函数和关键字类型的==运算符组织元素。

无序容器在存储上组织为一组桶，每个桶保存0个或多个元素，容器计算元素的哈希值支指出应该搜索哪个桶。

**无序容器管理操作**

![76](https://raw.githubusercontent.com/whyeinstein/ndssl_training_notes/main/img/202307192210232.png)
